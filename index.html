<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Danco & Khadija - Intelligent Digital Solutions, Advanced Analytics & Research</title>
    <link rel="icon" href="https://placehold.co/32x32/7c3aed/ffffff?text=DK" type="image/png">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script src="https://unpkg.com/typed.js@2.0.16/dist/typed.umd.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css">
    
    <!-- Core Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <style>
        /* --- Theme Variables --- */
        :root {
            /* Light Theme (Default) */
            --bg-primary: #f3f4f6; /* Tailwind gray-100 */
            --bg-secondary: #ffffff; /* White */
            --bg-accent: #e5e7eb; /* Tailwind gray-200 */
            --text-primary: #1f2937; /* Tailwind gray-800 */
            --text-secondary: #4b5563; /* Tailwind gray-600 */
            --text-accent: #0ea5e9; /* Sky-500 */
            --border-color: rgba(0, 0, 0, 0.1);
            --gradient-start: #1e40af; /* Blue-800 */
            --gradient-mid: #0d9488;   /* Teal-600 */
            --gradient-end: #047857;   /* Emerald-700 */
            --gradient-start-rgb: 30, 64, 175;
            --gradient-mid-rgb: 13, 148, 136;
            --gradient-end-rgb: 4, 120, 87;
            --glass-bg: rgba(255, 255, 255, 0.5);
            --glass-border: rgba(255, 255, 255, 0.3);
            --shadow-color: rgba(14, 165, 233, 0.15);
            --hero-overlay-bg: rgba(248, 250, 252, 0.6);
            --slider-nav-bg: rgba(255, 255, 255, 0.5);
            --slider-nav-text: #1f2937;
            --slider-nav-hover-bg: rgba(255, 255, 255, 0.8);
            --loader-bg: var(--bg-primary);
            --loader-color: var(--text-accent);
            --loader-logo-filter: none;
            --input-bg: #ffffff;
            --input-text: var(--text-primary);
            --input-border: #d1d5db;
            --input-focus-ring: var(--text-accent);
            --label-text: var(--text-primary);
            --skill-icon-bg: #e0f2fe; /* Light Sky for icon background */
            --skill-icon-text: var(--text-accent);
            --publication-card-bg: var(--bg-secondary);
        }

        .dark-mode {
            /* Dark Theme */
            --bg-primary: #0a0a23; 
            --bg-secondary: #111827; /* Tailwind gray-900 */
            --bg-accent: #1f2937; /* Tailwind gray-800 */
            --text-primary: #e0e0ff; 
            --text-secondary: #9ca3af; /* Tailwind gray-400 */
            --text-accent: #38bdf8; /* Sky-400 */
            --border-color: rgba(255, 255, 255, 0.1);
            --gradient-start: #2563eb; 
            --gradient-mid: #14b8a6;   
            --gradient-end: #059669;   
            --gradient-start-rgb: 37, 99, 235;
            --gradient-mid-rgb: 20, 184, 166;
            --gradient-end-rgb: 5, 150, 105;
            --glass-bg: rgba(31, 41, 55, 0.4);
            --glass-border: rgba(255, 255, 255, 0.15);
            --shadow-color: rgba(56, 189, 248, 0.25);
            --hero-overlay-bg: rgba(17, 24, 39, 0.5);
            --slider-nav-bg: rgba(31, 41, 55, 0.5);
            --slider-nav-text: #e0e0ff;
            --slider-nav-hover-bg: rgba(31, 41, 55, 0.8);
            --loader-bg: var(--bg-primary);
            --loader-color: var(--text-accent);
            --loader-logo-filter: brightness(0) invert(1);
            --input-bg: #1f2937;
            --input-text: var(--text-primary);
            --input-border: #4b5563;
            --input-focus-ring: var(--text-accent);
            --label-text: var(--text-primary);
            --skill-icon-bg: #0c4a6e; /* Dark Sky for icon background */
            --skill-icon-text: #bae6fd; /* Light Sky text for icons */
            --publication-card-bg: var(--bg-accent);
        }

        /* --- Base Styles --- */
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            overflow-x: hidden;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        body::before { 
            content: ''; position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(ellipse at top left, color-mix(in srgb, var(--gradient-start) 10%, transparent) 0%, transparent 40%),
                radial-gradient(ellipse at bottom right, color-mix(in srgb, var(--gradient-mid) 10%, transparent) 0%, transparent 40%);
            opacity: 0.2; z-index: -2; pointer-events: none; transition: background 0.3s ease;
        }

        .gradient-text {
            background: linear-gradient(90deg, var(--gradient-start), var(--gradient-mid), var(--gradient-end));
            -webkit-background-clip: text; background-clip: text; color: transparent; transition: background 0.3s ease;
        }

        html { scroll-behavior: smooth; }

        /* --- Loading Overlay --- */
        #loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--loader-bg), color-mix(in srgb, var(--loader-bg) 80%, black));
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            opacity: 1;
            transition: opacity 0.7s ease-out, visibility 0.7s;
            visibility: visible;
        }

        #loading-overlay.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }
        
        .loader-content {
            text-align: center;
            position: relative;
            transform: scale(0.9);
            opacity: 0;
            animation: loadIn 0.5s 0.2s forwards cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        @keyframes loadIn {
            to { transform: scale(1); opacity: 1;}
        }

        .loader-logo-text {
            font-size: 3.5rem; /* Adjusted size */
            font-weight: 800;
            margin-bottom: 25px; /* Adjusted margin */
            background: linear-gradient(90deg, var(--gradient-start), var(--gradient-mid), var(--gradient-end));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            filter: var(--loader-logo-filter);
            animation: logoPulse 2s infinite ease-in-out;
        }

        @keyframes logoPulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.03); opacity: 0.9; }
        }

        #lottie-container { margin: 0 auto 20px; }

        .loading-progress {
            width: 220px; /* Adjusted width */
            margin: 25px auto;
        }

        .progress-bar-bg { /* Renamed and styled background */
            height: 6px; /* Adjusted height */
            background-color: color-mix(in srgb, var(--text-accent) 20%, transparent);
            border-radius: 3px;
            overflow: hidden;
            position: relative;
        }

        .progress-bar-fill { /* Renamed and styled fill */
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 0%; /* Starts at 0, controlled by JS */
            background: linear-gradient(90deg, var(--gradient-start), var(--gradient-mid));
            border-radius: 3px;
            transition: width 0.1s ease-out; /* Smooth transition for JS updates */
        }
        
        .progress-text {
            margin-top: 10px; /* Adjusted margin */
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-weight: 500;
        }
        
        .loader-text { /* Main loading text below spinner/progress */
            margin-top: 20px;
            color: var(--text-secondary);
            font-size: 1rem; /* Adjusted size */
            font-weight: 500;
            letter-spacing: 0.3px;
        }

        .loading-tips {
            margin-top: 25px; /* Adjusted margin */
            min-height: 40px; /* Ensure space for tip text */
        }

        .tip-text {
            font-size: 0.85rem; /* Adjusted size */
            color: var(--text-secondary);
            opacity: 0;
            transition: opacity 0.5s ease-in-out; /* Smooth fade for tips */
        }

        /* --- Navigation --- */
        #main-header { 
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
            background: var(--bg-accent);
            color: var(--text-primary);
        }
        #main-header.scrolled {
            background: var(--bg-accent);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        .dark-mode #main-header.scrolled {
            background: var(--bg-accent);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        .nav-link {
            color: var(--text-primary);
            transition: color 0.3s ease, border-bottom-color 0.3s ease;
            padding: 0.5rem 0.6rem;
            font-size: 0.9rem;
            border-bottom: 2px solid transparent;
        }
        .nav-link:hover { color: var(--text-accent); }
        .nav-link.active { color: var(--text-accent); font-weight: 600; border-bottom-color: var(--text-accent); }
        #mobile-menu { background-color: var(--bg-accent); border-top: 1px solid var(--border-color); }
        .dark-mode #mobile-menu { background-color: var(--bg-accent); }
        #mobile-menu a { color: var(--text-primary); display: block; padding: 0.75rem 1.5rem; }
        #mobile-menu a:hover { background-color: var(--bg-primary); }
        #mobile-menu a.active { color: var(--text-accent); font-weight: 600; background-color: var(--bg-primary); }

        /* --- Buttons --- */
        .cta-button, .tally-button { 
            transition: all 0.3s ease; 
            padding: 0.75rem 1.5rem; border-radius: 0.5rem; font-weight: 600; display: inline-block; text-align: center;
        }
        .cta-button {
            background: linear-gradient(90deg, var(--gradient-start), var(--gradient-mid)); color: white;
            box-shadow: 0 4px 15px var(--shadow-color);
        }
        .cta-button:hover {
            transform: translateY(-2px); box-shadow: 0 6px 20px color-mix(in srgb, var(--shadow-color) 130%, black);
        }
        .tally-button { 
            background-color: #38BDF8; 
            color: white;
            box-shadow: 0 4px 15px rgba(56, 189, 248, 0.3);
        }
        .tally-button:hover {
            background-color: #0EA5E9; 
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(56, 189, 248, 0.4);
        }

        .cta-button-secondary {
             background-color: var(--glass-bg); border: 1px solid var(--border-color); color: var(--text-primary);
             transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
             padding: 0.75rem 1.5rem; border-radius: 0.5rem; font-weight: 600; display: inline-block; text-align: center;
        }
        .cta-button-secondary:hover { background-color: color-mix(in srgb, var(--bg-accent) 70%, black); }
        .dark-mode .cta-button-secondary {
            background-color: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); color: white;
        }
         .dark-mode .cta-button-secondary:hover { background-color: rgba(255, 255, 255, 0.2); }
         
        .know-more-button { 
            background-color: transparent;
            border: 2px solid var(--text-accent);
            color: var(--text-accent);
            transition: all 0.3s ease;
            padding: 0.6rem 1.2rem; 
            border-radius: 0.5rem; font-weight: 500; 
            display: inline-block; text-align: center;
        }
        .know-more-button:hover {
            background-color: var(--text-accent);
            color: var(--bg-secondary); 
            transform: translateY(-2px);
            box-shadow: 0 4px 10px color-mix(in srgb, var(--shadow-color) 80%, black);
        }
        .dark-mode .know-more-button {
             border-color: var(--text-accent);
             color: var(--text-accent);
        }
        .dark-mode .know-more-button:hover {
            background-color: var(--text-accent);
            color: var(--bg-primary); 
        }

         .whatsapp-button {
             background-color: #25D366; color: white;
             padding: 0.75rem 1.5rem; border-radius: 0.5rem; font-weight: 600; display: inline-flex; align-items: center; gap: 0.5rem;
             transition: background-color 0.3s ease, transform 0.3s ease; box-shadow: 0 4px 10px rgba(0,0,0,0.2);
         }
         .whatsapp-button:hover { background-color: #128C7E; transform: translateY(-2px); box-shadow: 0 6px 15px rgba(0,0,0,0.3); }
         .floating-whatsapp { position: fixed; bottom: 1.5rem; right: 1.5rem; z-index: 1000; }

        /* --- Cards & Glassmorphism --- */
        .glassmorphic {
            background: var(--glass-bg); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--border-color); transition: background 0.3s ease, border-color 0.3s ease;
        }
        .content-card { 
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 0.75rem; 
            padding: 1.5rem; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease, background-color 0.3s ease;
        }
        .dark-mode .content-card { box-shadow: 0 5px 15px rgba(0,0,0,0.15); }
        .content-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 10px 25px var(--shadow-color);
            border-color: var(--text-accent);
        }
        .content-card h3 { color: var(--text-primary); }
        .content-card p { color: var(--text-secondary); }
        .content-card .icon-bg {
            background-color: color-mix(in srgb, var(--text-accent) 15%, transparent);
            color: var(--text-accent);
            border-radius: 0.5rem; 
            width: 3rem; height: 3rem; 
            display: inline-flex; align-items: center; justify-content: center;
            margin-bottom: 1rem; 
        }
         .content-card .icon-bg i { font-size: 1.5rem; }


        /* --- Scroll Animation --- */
        .reveal { opacity: 0; transform: translateY(30px); transition: opacity 0.8s ease-out, transform 0.8s ease-out; }
        .reveal.visible { opacity: 1; transform: translateY(0); }

        /* --- Hero Section --- */
        #hero {
            position: relative; /* For positioning #globe-container within it */
            min-height: 90vh; width: 100%; display: flex; align-items: center; justify-content: center;
            text-align: center; overflow: hidden; padding-top: 100px; 
        }
        .hero-content {
            position: relative; 
            z-index: 2; /* Ensure hero content is above globe */
            background: var(--hero-overlay-bg); /* Uses updated transparent variable */
            -webkit-backdrop-filter: blur(12px); /* Safari compatibility */
            backdrop-filter: blur(12px); /* Increased blur for more pronounced glass */
            border: 1px solid var(--glass-border);
            padding: 2.5rem 3rem; /* Slightly more padding */
            border-radius: 1.5rem; /* Slightly larger radius */
            box-shadow: 0 12px 35px var(--shadow-color), inset 0 0 1.5px rgba(255,255,255,0.3); /* Enhanced shadow and inner gleam */
            color: var(--text-primary);
            max-width: 90%; 
            overflow: hidden; /* To contain the aurora background */
        }
        .dark-mode .hero-content {
            box-shadow: 0 12px 35px var(--shadow-color), inset 0 0 1.5px rgba(255,255,255,0.1);
        }

        .aurora-background {
            position: absolute;
            top: -50%; /* Start offset for movement */
            left: -50%;
            width: 200%; /* Larger than parent for movement */
            height: 200%;
            z-index: 0; /* Behind hero-content's direct children */
            background: radial-gradient(ellipse at 50% 50%, rgba(var(--gradient-start-rgb), 0.12) 0%, rgba(var(--gradient-mid-rgb), 0.1) 35%, rgba(var(--gradient-end-rgb), 0.08) 70%, transparent 100%);
            mix-blend-mode: screen; /* Experiment with 'overlay', 'soft-light', or 'screen' */
            animation: auroraShift 45s linear infinite alternate;
            opacity: 0.7; /* Overall opacity for the aurora effect */
        }
        .dark-mode .aurora-background {
            mix-blend-mode: lighten; /* Lighten works well on dark backgrounds */
            opacity: 0.6;
            background: radial-gradient(ellipse at 50% 50%, rgba(var(--gradient-start-rgb), 0.15) 0%, rgba(var(--gradient-mid-rgb), 0.12) 35%, rgba(var(--gradient-end-rgb), 0.1) 70%, transparent 100%);
        }

        @keyframes auroraShift {
            0% { transform: translate(0%, 0%) rotate(0deg) scale(1); }
            25% { transform: translate(3%, 2%) rotate(4deg) scale(1.05); }
            50% { transform: translate(-2%, 5%) rotate(-3deg) scale(1); }
            75% { transform: translate(2%, -3%) rotate(5deg) scale(1.05); }
            100% { transform: translate(0%, 0%) rotate(0deg) scale(1); }
        }

        #hero .hero-content > * { /* Target direct children like h1, p, buttons div */
            position: relative;
            z-index: 1; /* Ensure they are above the aurora background */
        }
        #hero .hero-content h1 {
            text-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .dark-mode #hero .hero-content h1 {
            text-shadow: 0 1px 5px rgba(0,0,0,0.3);
        }
        #hero .hero-content p {
            text-shadow: 0 1px 2px rgba(0,0,0,0.08);
        }
        .dark-mode #hero .hero-content p {
            text-shadow: 0 1px 4px rgba(0,0,0,0.25);
        }

         .dark-mode .hero-content { 
             color: #e0e0ff;
             background: var(--hero-overlay-bg); /* Uses updated transparent variable for dark mode */
         }
         .typed-cursor { opacity: 1; animation: typedjsBlink 0.7s infinite; color: var(--text-accent); }
         @keyframes typedjsBlink { 50% { opacity: 0.0; } }
        
        /* Sparkle animation for Hero */
        .sparkle {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
            z-index: 1; /* Sparkles behind hero-content, but potentially above globe if needed */
            animation-name: sparkleAnim;
            animation-timing-function: infinite;
            animation-iteration-count: alternate;
        }
        @keyframes sparkleAnim {
            0% { transform: scale(1) translateY(0px); opacity: 0.2; }
            100% { transform: scale(1.3) translateY(-10px); opacity: 0.7; }
        }

        /* --- Theme Toggle Button --- */
        #theme-toggle, #theme-toggle-mobile {
            background: none; border: none; color: var(--text-secondary); cursor: pointer;
            font-size: 1.25rem; transition: color 0.3s ease; padding: 0.5rem;
        }
         #theme-toggle:hover, #theme-toggle-mobile:hover { color: var(--text-accent); }

        /* --- Section Padding & Know More Button Container --- */
        section { scroll-margin-top: 70px;  }
        section:not(#hero) { padding-top: 2rem; padding-bottom: 4rem; } 
        
        .section-intro-button-container {
            text-align: center;
            margin-bottom: 2.5rem; 
            margin-top: 2rem; 
        }
        section:first-of-type .section-intro-button-container { 
             margin-top: 0;
        }


        /* --- Founder Card Specifics (Skills Showcase removed) --- */
        .founder-card img {
            border-radius: 50%; width: 128px; height: 128px; 
            object-fit: cover; margin-bottom: 1rem; border: 3px solid var(--text-accent);
        }
        .founder-card .quote {
            font-style: italic; color: var(--text-secondary);
            border-left: 3px solid var(--text-accent); padding-left: 1rem; margin: 1rem 0; 
        }
        .founder-card .links a { color: var(--text-accent); margin: 0 0.5rem; transition: color 0.3s ease; }
        .founder-card .links a:hover { color: var(--gradient-end); }


        /* --- Statistics Section --- */
        #stats {
            background-color: var(--bg-secondary); 
            color: var(--text-primary); 
            padding: 3rem 1.5rem;
            position: relative; overflow: hidden;
            border-top: 1px solid var(--border-color); border-bottom: 1px solid var(--border-color);
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }
        .stat-item { text-align: center; position: relative; z-index: 1; }
        .stat-number {
            font-size: 2.5rem; font-weight: 700; color: var(--text-accent);
            display: block; margin-bottom: 0.25rem; line-height: 1.1;
        }
        .stat-label { font-size: 0.9rem; color: var(--text-secondary); display: block; }

        /* --- Our Process Section --- */
        #our-process { background-color: var(--bg-accent); } 
        .process-step {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 0.75rem; padding: 1.5rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex; flex-direction: column; height: 100%; 
        }
        .dark-mode .process-step { box-shadow: 0 5px 15px rgba(0,0,0,0.15); }
        .process-step:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px var(--shadow-color);
        }
        .process-step .step-number {
            display: inline-block;
            background-color: var(--text-accent);
            color: white;
            border-radius: 50%;
            width: 2.5rem; height: 2.5rem; line-height: 2.5rem;
            font-weight: 600; font-size: 1.1rem;
            margin-bottom: 1rem;
        }
        .process-step h4 { font-size: 1.1rem; font-weight: 600; color: var(--text-primary); margin-bottom: 0.5rem; }
        .process-step p { font-size: 0.875rem; color: var(--text-secondary); flex-grow: 1; }

        /* --- Tech Stack & Expertise Section --- */
        #tech-skills { background-color: var(--bg-primary); }
        .skill-category { margin-bottom: 2.5rem; }
        .skill-category h3 {
            font-size: 1.5rem; 
            font-weight: 600; 
            color: var(--text-primary);
            margin-bottom: 1.5rem; 
            text-align: center;
            position: relative;
            padding-bottom: 0.5rem; 
        }
        .skill-category h3::after { 
            content: '';
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            bottom: 0;
            width: 60px; 
            height: 3px;
            background-color: var(--text-accent);
            border-radius: 2px;
        }
        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); 
            gap: 1.5rem; 
        }
        .skill-item-icon {
            background-color: var(--bg-secondary);
            border-radius: 0.5rem; 
            padding: 1rem; 
            text-align: center;
            border: 1px solid var(--border-color);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.04);
        }
        .skill-item-icon:hover {
            transform: translateY(-4px);
            box-shadow: 0 6px 12px var(--shadow-color);
        }
        .skill-item-icon i { 
            font-size: 3rem; 
            color: var(--skill-icon-text); 
            margin-bottom: 0.5rem; 
            display: block; 
             background-color: var(--skill-icon-bg); 
             padding: 0.5rem;
             border-radius: 0.375rem; 
             display: inline-block; 
        }
        .skill-item-icon span {
            font-size: 0.8rem; 
            color: var(--text-secondary);
            display: block; 
        }
        .tech-stack-cta {
            margin-top: 3rem;
            text-align: center;
        }


        /* --- Publications Section --- */
        #publications { background-color: var(--bg-accent); }
        .publication-card {
            background-color: var(--publication-card-bg);
            border: 1px solid var(--border-color);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex; /* For better alignment of content */
            flex-direction: column;
        }
        .publication-card:hover {
            transform: translateY(-5px) scale(1.01);
            box-shadow: 0 8px 16px var(--shadow-color);
        }
        .publication-card h4 {
            font-size: 1.25rem; /* text-xl */
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }
        .publication-card .authors {
            font-size: 0.875rem; /* text-sm */
            color: var(--text-secondary);
            font-style: italic;
            margin-bottom: 0.5rem;
        }
        .publication-card .venue {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }
        .publication-card .venue strong { font-weight: 500; color: var(--text-primary); }
        .publication-card .abstract-preview {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 1rem;
            flex-grow: 1; /* Allow abstract to take available space */
            max-height: 6.3em; /* Approx 3-4 lines, adjust as needed */
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 4; /* Increased to 4 lines */
            -webkit-box-orient: vertical;
        }
        .publication-card .read-more-btn {
            display: inline-block;
            padding: 0.5rem 1rem;
            background-color: var(--text-accent);
            color: white;
            border-radius: 0.375rem;
            text-decoration: none;
            font-size: 0.875rem;
            font-weight: 500;
            transition: background-color 0.3s ease;
            margin-top: auto; /* Push button to bottom if card height varies */
            align-self: flex-start; /* Align button to the left */
        }
        .publication-card .read-more-btn:hover {
            background-color: color-mix(in srgb, var(--text-accent) 85%, black);
        }


        /* --- Testimonial Card --- */
        .testimonial-card blockquote { border-left: 4px solid var(--text-accent); padding-left: 1rem; font-style: italic; color: var(--text-secondary); }
        .testimonial-card cite { display: block; margin-top: 1rem; font-weight: 600; color: var(--text-primary); }

        /* --- Image Slider (Swiper for Portfolio) --- */
        #portfolio { background-color: var(--bg-secondary); }
        .swiper-container {
            width: 100%; max-width: 1200px; margin-left: auto; margin-right: auto;
            position: relative; overflow: hidden; border-radius: 0.75rem;
        }
        .swiper-slide {
            text-align: center; font-size: 18px; background: var(--bg-accent);
            display: flex; flex-direction: column; 
            justify-content: center; align-items: center;
            position: relative; aspect-ratio: 16 / 9; overflow: hidden;
        }
        .swiper-slide img { display: block; width: 100%; height: 100%; object-fit: cover; }
        .slide-content-overlay { 
            position: absolute;
            bottom: 0; left: 0; right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.6) 60%, transparent 100%);
            color: #fff;
            padding: 1.5rem; 
            text-align: left;
            transition: background 0.3s ease;
        }
        .dark-mode .slide-content-overlay { 
            background: linear-gradient(to top, rgba(10,10,35,0.9) 0%, rgba(10,10,35,0.7) 60%, transparent 100%);
        }
        .slide-content-overlay h4 { font-size: 1.1rem; font-weight: 600; margin-bottom: 0.25rem; }
        .slide-content-overlay p { font-size: 0.85rem; margin-bottom: 0.75rem; line-height: 1.4; }
        .github-link-button {
            background-color: var(--text-accent);
            color: white;
            padding: 0.4rem 0.8rem;
            border-radius: 0.375rem; 
            font-size: 0.8rem;
            font-weight: 500;
            text-decoration: none;
            display: inline-flex; 
            align-items: center;
            transition: background-color 0.3s ease;
        }
        .github-link-button:hover {
            background-color: color-mix(in srgb, var(--text-accent) 85%, black);
        }
        .github-link-button i { margin-right: 0.3rem; }


        .swiper-button-next, .swiper-button-prev {
            color: var(--slider-nav-text); background-color: var(--slider-nav-bg);
            border-radius: 50%; width: 44px; height: 44px;
            transition: background-color 0.3s ease, color 0.3s ease;
            -webkit-backdrop-filter: blur(5px); backdrop-filter: blur(5px);
            --swiper-navigation-size: 20px;
        }
        .swiper-button-next:hover, .swiper-button-prev:hover { background-color: var(--slider-nav-hover-bg); }
        .swiper-pagination-bullet { background-color: var(--slider-nav-text); opacity: 0.7; }
        .swiper-pagination-bullet-active { background-color: var(--text-accent); opacity: 1; }

        /* --- Contact Form --- */
        #contact-form label {
            color: var(--label-text); display: block; margin-bottom: 0.25rem;
            font-size: 0.875rem; font-weight: 500; transition: color 0.3s ease;
        }
        #contact-form input[type="text"],
        #contact-form input[type="email"],
        #contact-form textarea {
            background-color: var(--input-bg); color: var(--input-text);
            border: 1px solid var(--input-border); border-radius: 0.375rem;
            padding: 0.5rem 0.75rem; width: 100%; box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            transition: border-color 0.3s ease, background-color 0.3s ease, color 0.3s ease, box-shadow 0.15s ease-in-out;
        }
        #contact-form input[type="text"]:focus,
        #contact-form input[type="email"]:focus,
        #contact-form textarea:focus {
            outline: none; border-color: var(--input-focus-ring);
            box-shadow: 0 0 0 3px color-mix(in srgb, var(--input-focus-ring) 25%, transparent);
        }
        .dark-mode #contact-form label { color: var(--label-text); }
        .dark-mode #contact-form input[type="text"],
        .dark-mode #contact-form input[type="email"],
        .dark-mode #contact-form textarea {
            background-color: var(--input-bg); color: var(--input-text); border-color: var(--input-border);
        }
        #contact-form ::placeholder { color: var(--text-secondary); opacity: 0.7; }
        .dark-mode #contact-form ::placeholder { color: var(--text-secondary); opacity: 0.5; }

        /* Globe Container Styling - Now specific to Hero section */
        #hero #globe-container {
            position: absolute; /* Positioned within the hero section */
            top: 0;
            left: 0;
            width: 100%; /* Full width of hero */
            height: 100%; /* Full height of hero */
            z-index: 0;   /* Behind hero-content */
            pointer-events: auto; /* Allow interaction with globe if it's specifically targeted */
            overflow: hidden;
        }
        
        /* Removed duplicated .hero-content styles, using the ones defined earlier for #hero .hero-content */
        
        @media (max-width: 900px) {
            /* #globe-container { height: 60vh; } /* This might be too small, let's keep it full VH */
            .hero-content { padding: 2rem 1rem; }
        }
    </style>
</head>
<body class="antialiased">
    <!-- Globe container is NOT first anymore, it will be inside #hero -->

    <div id="loading-overlay">
        <div class="loader-content">
            <div class="loader-logo-text">D&K</div>
            <div id="lottie-container" style="width: 150px; height: 150px;"></div> <!-- Adjusted Lottie size -->
            <div class="loading-progress">
                <div class="progress-bar-bg">
                    <div class="progress-bar-fill"></div>
                </div>
                <div class="progress-text">Loading <span class="progress-percentage">0%</span></div>
            </div>
            <p class="loader-text">Crafting Digital Excellence...</p>
            <div class="loading-tips">
                <p class="tip-text"></p>
            </div>
        </div>
    </div>

    <a href="https://wa.me/254778087730?text=Hello%20Danco%20%26%20Khadija%2C%20I%27m%20interested%20in%20your%20services." target="_blank" rel="noopener noreferrer" class="floating-whatsapp whatsapp-button" title="Chat on WhatsApp">
        <i class="fab fa-whatsapp text-2xl"></i>
        <span class="hidden sm:inline">Chat Now</span>
    </a>

    <header id="main-header" class="fixed top-0 left-0 right-0 z-50 glassmorphic">
        <nav class="container mx-auto px-4 sm:px-6 py-2 flex justify-between items-center">
            <a href="#hero" class="flex-shrink-0 flex items-center" title="Danco & Khadija Home">
                <span class="text-xl md:text-2xl font-bold gradient-text">Danco & Khadija</span>
            </a>
            <div class="hidden lg:flex items-center space-x-1 xl:space-x-2 flex-wrap justify-end">
                <a href="#hero" class="nav-link">Home</a>
                <a href="#who-we-are" class="nav-link">Who We Are</a>
                <a href="#services" class="nav-link">Services</a>
                <a href="#our-process" class="nav-link">Our Process</a>
                <a href="#tech-skills" class="nav-link">Expertise</a>
                <a href="who_we_are.html" class="nav-link">Who We Are</a>
                <a href="#portfolio" class="nav-link">Our Work</a>
                <a href="#publications" class="nav-link">Publications</a>
                <a href="#testimonials" class="nav-link">Testimonials</a>
                <a href="#contact" class="nav-link">Contact</a>
                <button id="theme-toggle" title="Toggle Theme" class="ml-2">
                    <i class="fas fa-sun"></i>
                </button>
            </div>
            <div class="lg:hidden flex items-center space-x-3">
                 <button id="theme-toggle-mobile" class="text-xl" title="Toggle Theme">
                     <i class="fas fa-sun"></i>
                 </button>
                 <button id="mobile-menu-button" class="focus:outline-none text-2xl" title="Toggle Mobile Menu">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </nav>
        <div id="mobile-menu" class="hidden lg:hidden">
            <a href="#hero" class="nav-link-mobile block px-4 py-2">Home</a>
            <a href="who_we_are.html" class="nav-link-mobile block px-4 py-2">Who We Are</a>
            <a href="services.html" class="nav-link-mobile block px-4 py-2">Services</a>
            <a href="our_process.html" class="nav-link-mobile block px-4 py-2">Our Process</a>
            <a href="tech_stack.html" class="nav-link-mobile block px-4 py-2">Expertise</a>
            <a href="who_we_are.html#our-team" class="nav-link-mobile block px-4 py-2">Our Team</a>
            <a href="portfolio.html" class="nav-link-mobile block px-4 py-2">Our Work</a>
            <a href="publications.html" class="nav-link-mobile block px-4 py-2">Publications</a>
            <a href="testimonials.html" class="nav-link-mobile block px-4 py-2">Testimonials</a>
            <a href="contact.html" class="nav-link-mobile block px-4 py-2">Contact</a>
        </div>
    </header>

    <section id="hero">
        <!-- Globe container moved inside #hero -->
        <div id="globe-container"></div> 

        <div class="container mx-auto px-6 z-10">
            <div class="hero-content reveal max-w-4xl mx-auto">
                <div class="aurora-background"></div> <!-- Added Aurora Background -->
                <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold mb-6 leading-tight">
                    Intelligent Solutions, <span class="gradient-text" id="typed-target"></span>
                </h1>
                <p class="text-lg md:text-xl mb-8">
                    A Nairobi-based freelance partnership, we are <strong>creative architects of intelligent digital experiences</strong>. We deliver scalable, design-driven solutions by masterfully blending deep technical insight with visionary strategic thinking. Partner with us to transform your concepts into thriving realities, from initial spark to impactful deployment and beyond.
                </p>
                <div class="hero-stats grid grid-cols-2 md:grid-cols-4 gap-6 mb-8">
                    <div class="stat-item text-center">
                        <div class="text-3xl font-bold text-accent mb-2">50+</div>
                        <div class="text-sm text-secondary">Projects Delivered</div>
                    </div>
                    <div class="stat-item text-center">
                        <div class="text-3xl font-bold text-accent mb-2">30+</div>
                        <div class="text-sm text-secondary">Happy Clients</div>
                    </div>
                    <div class="stat-item text-center">
                        <div class="text-3xl font-bold text-accent mb-2">5+</div>
                        <div class="text-sm text-secondary">Years Experience</div>
                    </div>
                    <div class="stat-item text-center">
                        <div class="text-3xl font-bold text-accent mb-2">100%</div>
                        <div class="text-sm text-secondary">Client Satisfaction</div>
                    </div>
                </div>
                <div class="hero-buttons">
                    <a href="#services" class="cta-button">
                        Explore Our Services
                    </a>
                    <a href="#contact" class="cta-button" style="background: var(--bg-accent); color: var(--text-primary);">
                        Get In Touch
                    </a>
                </div>
                <div class="mt-12 flex items-center justify-center gap-8">
                    <div class="flex items-center gap-2">
                        <i class="fas fa-check-circle text-green-500"></i>
                        <span class="text-sm">24/7 Support</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <i class="fas fa-shield-alt text-blue-500"></i>
                        <span class="text-sm">Secure Solutions</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <i class="fas fa-rocket text-purple-500"></i>
                        <span class="text-sm">Fast Delivery</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="who-we-are" class="bg-secondary">
        <div class="container mx-auto px-6">
            
            <div class="text-center mb-12 reveal">
                <h2 class="text-3xl md:text-4xl font-bold mb-3">Who We Are: Architects of Digital Transformation</h2>
                <p class="text-lg text-secondary max-w-3xl mx-auto">
                    We are Danco & Khadija, a dynamic Nairobi-based freelance partnership, passionately committed to architecting intelligent, scalable, and aesthetically compelling digital solutions. Our core philosophy revolves around the powerful synergy of profound technical acumen and insightful strategic design. This fusion empowers businesses, from nascent startups to established enterprises, to confidently build, strategically deploy, and sustainably grow in an ever-evolving digital landscape.
                </p>
            </div>
            <div class="flex flex-col lg:flex-row items-center gap-12">
                <div class="lg:w-1/2 reveal">
                    <img src="https://placehold.co/600x400/e0e7ff/4f46e5?text=Collaborative+Innovation" alt="Team Collaboration or Abstract Tech Design" class="rounded-lg shadow-xl w-full h-auto object-cover" loading="lazy">
                </div>
                <div class="lg:w-1/2 reveal" style="transition-delay: 0.2s;">
                    <h3 class="text-2xl font-semibold mb-4 text-primary">Our Unique Edge: The DanJa Approach</h3>
                    <p class="text-secondary mb-4 leading-relaxed">
                        Born from an unwavering, shared commitment to tangible innovation and practical, real-world impact, our partnership is a crucible where cutting-edge data science melds seamlessly with captivating digital experiences. Whether you are on the cusp of launching your inaugural product, seeking to meticulously optimize your current operations, or aiming to exponentially scale your analytical capabilities, we stand ready. Our mission is to guide you in building with unparalleled clarity, unwavering purpose, and a keen eye on future possibilities.
                    </p>
                    <p class="text-secondary mb-4 leading-relaxed">
                        We don't just deliver projects; we forge partnerships. This means diving deep to understand your unique ecosystem, its inherent challenges, and its latent opportunities. We champion a co-creative process, ensuring that the solutions we build are not only technologically sound but also deeply resonant with your brand and strategic objectives, ultimately delivering measurable and meaningful value. Our dedication extends beyond code; it's about fostering your growth and celebrating your success as our own.
                    </p>
                    <p class="text-secondary leading-relaxed font-medium text-primary">
                        At Danco & Khadija, your vision is our blueprint. Let's build the extraordinary, together.
                    </p>
                </div>
            </div>
        </div>
    <div class="section-intro-button-container reveal">
                <a href="who_we_are.html" class="know-more-button">Discover Who We Are <i class="fas fa-arrow-right ml-2"></i></a>
            </div></section>

    <section id="services" class="bg-primary">
        <div class="container mx-auto px-6">
            
            <div class="text-center mb-12 reveal">
                <h2 class="text-3xl md:text-4xl font-bold mb-3">Our Spectrum of Expertise</h2>
                <p class="text-lg text-secondary max-w-3xl mx-auto">
                    We offer a comprehensive suite of services meticulously designed to empower your business with transformative technology, actionable strategic insights, and compelling user engagement.
                </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="content-card reveal" style="transition-delay: 0.1s;">
                    <div class="icon-bg"><i class="fas fa-code"></i></div>
                    <h3 class="text-xl font-semibold mb-3">Custom Software Development</h3>
                    <p class="text-base leading-relaxed">
                        Crafting bespoke web applications, robust backend systems, and efficient APIs meticulously tailored to your unique business requisites. Our solutions are architected for optimal scalability, peak performance, and long-term maintainability, ensuring they evolve with your enterprise.
                    </p>
                </div>
                <div class="content-card reveal" style="transition-delay: 0.2s;">
                    <div class="icon-bg"><i class="fas fa-brain"></i></div>
                    <h3 class="text-xl font-semibold mb-3">Machine Learning & AI Solutions</h3>
                    <p class="text-base leading-relaxed">
                        Leveraging the power of artificial intelligence to develop intelligent predictive models, unearth data-driven insights, and implement AI-powered automation. We help you optimize critical processes, make informed decisions, and unlock previously untapped avenues for growth and innovation.
                    </p>
                </div>
                <div class="content-card reveal" style="transition-delay: 0.3s;">
                    <div class="icon-bg"><i class="fas fa-lightbulb"></i></div>
                    <h3 class="text-xl font-semibold mb-3">Digital Strategy & Transformation</h3>
                    <p class="text-base leading-relaxed">
                        Providing research-backed business strategy, comprehensive product lifecycle mapping, and actionable digital transformation roadmaps. Our strategic counsel ensures your digital initiatives are perfectly aligned with your overarching business goals, delivering clear, measurable, and impactful outcomes.
                    </p>
                </div>
                <div class="content-card reveal" style="transition-delay: 0.4s;">
                    <div class="icon-bg"><i class="fas fa-drafting-compass"></i></div>
                    <h3 class="text-xl font-semibold mb-3">UI/UX Design & Direction</h3>
                    <p class="text-base leading-relaxed">
                        Meticulously crafting intuitive, engaging, and aesthetically pleasing user experiences. Our user-centric design philosophy ensures your digital products not only look exceptional but also resonate deeply with your target audience, fostering enhanced engagement and satisfaction.
                    </p>
                </div>
                <div class="content-card reveal" style="transition-delay: 0.5s;">
                    <div class="icon-bg"><i class="fas fa-chart-line"></i></div>
                    <h3 class="text-xl font-semibold mb-3">Advanced Data Analytics & Visualization</h3>
                    <p class="text-base leading-relaxed">
                        Transforming complex, raw data into clear, actionable insights. We employ advanced analytical techniques, develop interactive reporting dashboards, and create compelling visualizations that empower you to understand trends, identify opportunities, and make data-backed decisions with confidence.
                    </p>
                </div>
                <div class="content-card reveal" style="transition-delay: 0.6s;">
                    <div class="icon-bg"><i class="fas fa-laptop-code"></i></div>
                    <h3 class="text-xl font-semibold mb-3">Full-Stack Web Development</h3>
                    <p class="text-base leading-relaxed">
                        Delivering end-to-end development of responsive, dynamic, and secure websites and web applications. We utilize a modern technology stack, including React for frontend and Django for backend, ensuring robust, high-performance digital platforms that meet contemporary standards.
                    </p>
                </div>
            </div>
        </div>
    <div class="section-intro-button-container reveal">
                <a href="services.html" class="know-more-button">Explore Our Services <i class="fas fa-arrow-right ml-2"></i></a>
            </div></section>

    <section id="our-process" class="bg-accent">
        <div class="container mx-auto px-6">
            
            <div class="text-center mb-12 reveal">
                <h2 class="text-3xl md:text-4xl font-bold mb-3 text-primary">Our Collaborative Process</h2>
                <p class="text-lg text-secondary max-w-3xl mx-auto">
                    We believe in a transparent and collaborative journey, ensuring your project's success from initial ideation through to final deployment and ongoing support. Our process is designed for clarity, efficiency, and outstanding results.
                </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="process-step reveal" style="transition-delay: 0.1s;">
                    <div class="step-number">1</div>
                    <h4>Discovery & Strategic Planning</h4>
                    <p>Our journey commences with a deep dive into your vision, objectives, target audience, and existing challenges. Through comprehensive consultations, meticulous research, and market analysis, we collaboratively define the project scope, key performance indicators (KPIs), and a strategic roadmap tailored to your specific needs.</p>
                </div>
                <div class="process-step reveal" style="transition-delay: 0.2s;">
                    <div class="step-number">2</div>
                    <h4>User-Centric Design & Prototyping</h4>
                    <p>With a solid understanding of your goals, our design phase focuses on architecting intuitive user experiences (UX) and compelling user interfaces (UI). We create detailed wireframes, visual mockups, and often interactive prototypes, allowing for early feedback and iterative refinement to ensure the final design is both user-friendly and aligns perfectly with your brand identity.</p>
                </div>
                <div class="process-step reveal" style="transition-delay: 0.3s;">
                    <div class="step-number">3</div>
                    <h4>Agile Development & Iteration</h4>
                    <p>Employing agile development methodologies, we transform designs into functional, high-quality software. This iterative process involves breaking down the project into manageable sprints, allowing for regular progress updates, continuous integration, and frequent feedback loops. This flexibility ensures the solution evolves effectively and stays aligned with your expectations.</p>
                </div>
                <div class="process-step reveal" style="transition-delay: 0.4s;">
                    <div class="step-number">4</div>
                    <h4>Rigorous Testing, Deployment & Support</h4>
                    <p>Quality assurance is paramount. We conduct comprehensive testing across various devices and scenarios to ensure robustness, security, and optimal performance. Following successful testing, we manage a smooth deployment to your chosen environment. Our commitment extends beyond launch, offering ongoing support and maintenance to ensure your digital solution continues to thrive.</p>
                </div>
            </div>
        </div>
    <div class="section-intro-button-container reveal">
                <a href="our_process.html" class="know-more-button">Understand Our Approach <i class="fas fa-arrow-right ml-2"></i></a>
            </div></section>

    <section id="tech-skills" class="bg-primary">
        <div class="container mx-auto px-6">
            
            <div class="text-center mb-12 reveal">
                <h2 class="text-3xl md:text-4xl font-bold mb-3">Tech Stack & Expertise</h2>
                <p class="text-lg text-secondary max-w-3xl mx-auto">
                    We leverage a modern and versatile technology stack to build high-performance, scalable, and innovative digital solutions. Our expertise spans across various domains, ensuring we can select the best tools for your specific project needs.
                </p>
            </div>

            <div class="skill-category reveal">
                <h3><i class="fas fa-code mr-2 text-accent"></i>Programming Languages</h3>
                <div class="skills-grid">
                    <div class="skill-item-icon"><i class="devicon-python-plain-wordmark colored"></i><span>Python</span></div>
                    <div class="skill-item-icon"><i class="devicon-javascript-plain colored"></i><span>JavaScript</span></div>
                    <div class="skill-item-icon"><i class="devicon-typescript-plain colored"></i><span>TypeScript</span></div>
                    <div class="skill-item-icon"><i class="devicon-r-plain colored"></i><span>R</span></div>
                    <div class="skill-item-icon"><i class="devicon-java-plain-wordmark colored"></i><span>Java</span></div>
                    <div class="skill-item-icon"><i class="devicon-cplusplus-plain colored"></i><span>C++</span></div>
                </div>
            </div>

            <div class="skill-category reveal">
                <h3><i class="fas fa-desktop mr-2 text-accent"></i>Frontend Development</h3>
                <div class="skills-grid">
                    <div class="skill-item-icon"><i class="devicon-react-original-wordmark colored"></i><span>React</span></div>
                    <div class="skill-item-icon"><i class="devicon-angularjs-plain colored"></i><span>Angular</span></div>
                    <div class="skill-item-icon"><i class="devicon-vuejs-plain-wordmark colored"></i><span>Vue.js</span></div>
                    <div class="skill-item-icon"><i class="devicon-html5-plain-wordmark colored"></i><span>HTML5</span></div>
                    <div class="skill-item-icon"><i class="devicon-css3-plain-wordmark colored"></i><span>CSS3</span></div>
                    <div class="skill-item-icon"><i class="devicon-tailwindcss-plain colored"></i><span>Tailwind CSS</span></div>
                    <div class="skill-item-icon"><i class="devicon-bootstrap-plain-wordmark colored"></i><span>Bootstrap</span></div>
                </div>
            </div>

            <div class="skill-category reveal">
                <h3><i class="fas fa-server mr-2 text-accent"></i>Backend Development</h3>
                <div class="skills-grid">
                    <div class="skill-item-icon"><i class="devicon-django-plain-wordmark colored"></i><span>Django</span></div>
                    <div class="skill-item-icon"><i class="devicon-flask-original-wordmark colored"></i><span>Flask</span></div>
                    <div class="skill-item-icon"><i class="devicon-nodejs-plain-wordmark colored"></i><span>Node.js</span></div>
                    <div class="skill-item-icon"><i class="devicon-express-original-wordmark colored"></i><span>Express.js</span></div>
                    <div class="skill-item-icon"><i class="devicon-spring-plain-wordmark colored"></i><span>Spring Boot</span></div>
                </div>
            </div>

            <div class="skill-category reveal">
                <h3><i class="fas fa-database mr-2 text-accent"></i>Databases</h3>
                <div class="skills-grid">
                    <div class="skill-item-icon"><i class="devicon-postgresql-plain-wordmark colored"></i><span>PostgreSQL</span></div>
                    <div class="skill-item-icon"><i class="devicon-mysql-plain-wordmark colored"></i><span>MySQL</span></div>
                    <div class="skill-item-icon"><i class="devicon-mongodb-plain-wordmark colored"></i><span>MongoDB</span></div>
                    <div class="skill-item-icon"><i class="devicon-redis-plain-wordmark colored"></i><span>Redis</span></div>
                    <div class="skill-item-icon"><i class="devicon-sqlite-plain-wordmark colored"></i><span>SQLite</span></div>
                </div>
            </div>

            <div class="skill-category reveal">
                <h3><i class="fas fa-brain mr-2 text-accent"></i>Data Science & Machine Learning</h3>
                <div class="skills-grid">
                    <div class="skill-item-icon"><i class="devicon-tensorflow-original-wordmark colored"></i><span>TensorFlow</span></div>
                    <div class="skill-item-icon"><i class="devicon-pytorch-plain-wordmark colored"></i><span>PyTorch</span></div>
                    <div class="skill-item-icon"><i class="devicon-keras-plain colored" style="color: #D00000;"></i><span>Keras</span></div> <div class="skill-item-icon"><i class="devicon-scikitlearn-plain colored"></i><span>Scikit-learn</span></div>
                    <div class="skill-item-icon"><i class="devicon-pandas-original-wordmark colored"></i><span>Pandas</span></div>
                    <div class="skill-item-icon"><i class="devicon-numpy-original-wordmark colored"></i><span>NumPy</span></div>
                    <div class="skill-item-icon"><i class="devicon-apachekafka-original-wordmark colored"></i><span>Apache Kafka</span></div>
                     <div class="skill-item-icon"><i class="devicon-opencv-plain-wordmark colored"></i><span>OpenCV</span></div>
                </div>
            </div>

            <div class="skill-category reveal">
                <h3><i class="fas fa-tools mr-2 text-accent"></i>DevOps, Cloud & Tools</h3>
                <div class="skills-grid">
                    <div class="skill-item-icon"><i class="devicon-docker-plain-wordmark colored"></i><span>Docker</span></div>
                    <div class="skill-item-icon"><i class="devicon-kubernetes-plain-wordmark colored"></i><span>Kubernetes</span></div>
                    <div class="skill-item-icon"><i class="devicon-git-plain-wordmark colored"></i><span>Git</span></div>
                    <div class="skill-item-icon"><i class="devicon-github-original-wordmark colored"></i><span>GitHub</span></div>
                    <div class="skill-item-icon"><i class="devicon-amazonwebservices-original-wordmark colored"></i><span>AWS</span></div>
                    <div class="skill-item-icon"><i class="devicon-googlecloud-plain-wordmark colored"></i><span>Google Cloud</span></div>
                    <div class="skill-item-icon"><i class="devicon-microsoftazure-plain-wordmark colored"></i><span>Azure</span></div>
                    <div class="skill-item-icon"><i class="devicon-nginx-original colored"></i><span>Nginx</span></div>
                    <div class="skill-item-icon"><i class="devicon-linux-plain colored"></i><span>Linux</span></div>
                </div>
            </div>

            <div class="text-center mt-12">
                <p class="text-lg text-secondary mb-6 max-w-2xl mx-auto">
                    This diverse toolkit allows us to craft bespoke solutions tailored to your unique challenges. Curious how these technologies can elevate your project?
                </p>
                <a href="#contact" class="cta-button">Discuss Your Project <i class="fas fa-comments ml-2"></i></a>
            </div>
        </div>
    <div class="section-intro-button-container reveal">
                <a href="tech_stack.html" class="know-more-button">Explore Our Full Tech Stack <i class="fas fa-arrow-right ml-2"></i></a>
            </div></section>

    <section id="portfolio" class="bg-secondary">
        <div class="container mx-auto px-6">
            
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 reveal">A Glimpse Into Our Work</h2>
            <p class="text-lg text-secondary text-center max-w-3xl mx-auto mb-12 reveal" style="transition-delay: 0.1s;">
                Explore a curated selection of projects that showcase our capability to transform ideas into impactful digital realities. Each project reflects our commitment to quality, innovation, and client success.
            </p>
            <div class="swiper-container reveal" style="transition-delay: 0.2s;">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <img src="https://placehold.co/1200x675/4f46e5/ffffff?text=InvestWise+Predictor" alt="InvestWise Predictor Project" loading="lazy">
                        <div class="slide-content-overlay">
                            <h4>InvestWise Predictor</h4>
                            <p>A sophisticated investment advisory engine powered by neural networks and economic data, providing data-driven insights for financial decisions.</p>
                            <a href="https://github.com/MadScie254/InvestWise-Predictor" target="_blank" rel="noopener noreferrer" class="github-link-button">
                                <i class="fab fa-github"></i> View on GitHub
                            </a>
                        </div>
                    </div>
                    <div class="swiper-slide">
                         <img src="https://placehold.co/1200x675/7c3aed/ffffff?text=metcom.ke" alt="metcom.ke Project" loading="lazy">
                         <div class="slide-content-overlay">
                            <h4>Metcom.ke Platform</h4>
                            <p>A production-ready platform showcasing robust backend engineering and a seamless user interface for a leading connectivity provider.</p>
                             <a href="https://github.com/MadScie254/metcom.ke-project" target="_blank" rel="noopener noreferrer" class="github-link-button">
                                <i class="fab fa-github"></i> View on GitHub
                            </a>
                        </div>
                    </div>
                    <div class="swiper-slide">
                         <img src="https://placehold.co/1200x675/db2777/ffffff?text=marda.co.ke" alt="marda.co.ke Project" loading="lazy">
                         <div class="slide-content-overlay">
                             <h4>Marda.co.ke E-commerce</h4>
                            <p>A deployed e-commerce platform demonstrating full-stack development capabilities, secure payment gateway integration, and inventory management.</p>
                             <a href="https://github.com/MadScie254/marda.co.ke-ecommerce" target="_blank" rel="noopener noreferrer" class="github-link-button">
                                <i class="fab fa-github"></i> View on GitHub
                            </a>
                        </div>
                    </div>
                    <div class="swiper-slide">
                         <img src="https://placehold.co/1200x675/10b981/ffffff?text=SME+Digital+Transformation" alt="Digital Strategy Project" loading="lazy">
                         <div class="slide-content-overlay">
                            <h4>SME Digital Transformation Suite</h4>
                            <p>Strategic guidance and custom system implementation for a growing SME, enhancing their online presence, CRM, and operational efficiency through tailored digital tools.</p>
                            <a href="https://github.com/MadScie254/sme-digital-suite" target="_blank" rel="noopener noreferrer" class="github-link-button">
                                <i class="fab fa-github"></i> View on GitHub
                            </a>
                        </div>
                    </div>
                     <div class="swiper-slide">
                        <img src="https://placehold.co/1200x675/f59e0b/000000?text=AI+Inventory+Optimizer" alt="AI Inventory Optimizer" loading="lazy">
                        <div class="slide-content-overlay">
                           <h4>AI-Powered Inventory Optimizer</h4>
                           <p>A machine learning solution for retail businesses to predict demand, optimize stock levels, and reduce waste, leading to significant cost savings.</p>
                           <a href="https://github.com/MadScie254/AI-Inventory-Optimizer" target="_blank" rel="noopener noreferrer" class="github-link-button">
                               <i class="fab fa-github"></i> View on GitHub
                           </a>
                       </div>
                   </div>
                </div>
                <div class="swiper-pagination"></div>
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            </div>
        </div>
    <div class="section-intro-button-container reveal">
                <a href="portfolio.html" class="know-more-button">View Our Full Portfolio <i class="fas fa-arrow-right ml-2"></i></a>
            </div></section>

    <section id="publications" class="bg-accent">
        <div class="container mx-auto px-6">
            
            <div class="text-center mb-12 reveal">
                <h2 class="text-3xl md:text-4xl font-bold mb-3 text-primary">Our Research & Publications</h2>
                <p class="text-lg text-secondary max-w-3xl mx-auto">
                    We believe in contributing to the broader knowledge community. Explore some of our research papers, articles, and conference presentations where we share insights and advancements in data science, machine learning, and digital innovation.
                </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="publication-card reveal" style="transition-delay: 0.1s;">
                    <h4>Logarithms & Algorithms: The Invisible Engines of AI & Data Science</h4>
                    <p class="authors">Daniel Wanjala</p>
                    <p class="venue"><strong>LinkedIn Pulse Article</strong> (2024)</p>
                    <p class="abstract-preview">
                        Delving into the fundamental mathematical concepts that power today's most advanced AI and Data Science applications. This article demystifies logarithms and algorithms for a broader audience.
                    </p>
                    <a href="https://www.linkedin.com/pulse/logarithms-algorithms-invisible-engines-ai-data-science-wanjala-u9qgf/" target="_blank" rel="noopener noreferrer" class="read-more-btn">Read Article <i class="fas fa-external-link-alt ml-1"></i></a>
                </div>
                <div class="publication-card reveal" style="transition-delay: 0.2s;">
                    <h4>From Excel to Neural Networks: My Journey into Data Science</h4>
                    <p class="authors">Daniel Wanjala</p>
                    <p class="venue"><strong>LinkedIn Pulse Article</strong> (2024)</p>
                    <p class="abstract-preview">
                        A personal account of transitioning into the field of Data Science, highlighting the learning curve, key milestones, and the shift from traditional tools to advanced machine learning techniques like neural networks.
                    </p>
                    <a href="https://www.linkedin.com/pulse/from-excel-neural-networks-my-journey-data-science-daniel-wanjala-s6vjf/" target="_blank" rel="noopener noreferrer" class="read-more-btn">Read Article <i class="fas fa-external-link-alt ml-1"></i></a>
                </div>
                <div class="publication-card reveal" style="transition-delay: 0.3s;">
                    <h4>Why AI Bots Leave Customers Frustrated (and How We Can Improve Them)</h4>
                    <p class="authors">Daniel Wanjala</p>
                    <p class="venue"><strong>LinkedIn Pulse Article</strong> (2024)</p>
                    <p class="abstract-preview">
                        An analysis of common pitfalls in current AI chatbot implementations and a discussion on strategies to enhance their effectiveness and user satisfaction, drawing lessons from examples like Zuri.
                    </p>
                    <a href="https://www.linkedin.com/pulse/why-ai-bots-leave-customers-frustrated-improving-zuriand-wanjala-9kbhf/" target="_blank" rel="noopener noreferrer" class="read-more-btn">Read Article <i class="fas fa-external-link-alt ml-1"></i></a>
                </div>
                 <div class="publication-card reveal" style="transition-delay: 0.4s;">
                    <h4>Frappe Framework Concepts for Beginners to Intermediate</h4>
                    <p class="authors">Daniel Wanjala</p>
                    <p class="venue"><strong>LinkedIn Pulse Article</strong> (2024)</p>
                    <p class="abstract-preview">
                        This article provides a comprehensive overview of the Frappe Framework, covering essential concepts tailored for individuals ranging from beginners to those with intermediate experience in web development and ERP systems.
                    </p>
                    <a href="https://www.linkedin.com/pulse/frappe-framework-concepts-beginners-intermediate-daniel-wanjala-wki5f/" target="_blank" rel="noopener noreferrer" class="read-more-btn">Read Article <i class="fas fa-external-link-alt ml-1"></i></a>
                </div>
            </div>
        </div>
    <div class="section-intro-button-container reveal">
                <a href="publications.html" class="know-more-button">View All Publications <i class="fas fa-arrow-right ml-2"></i></a>
            </div></section>

    <section id="testimonials" class="bg-primary">
        <div class="container mx-auto px-6">
             
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 reveal">Voices of Our Valued Partners</h2>
             <p class="text-lg text-secondary text-center max-w-3xl mx-auto mb-12 reveal" style="transition-delay: 0.1s;">
                We are deeply passionate about delivering tangible results and fostering long-term success for our clients. Here's what some of our valued partners have to share about their collaborative experience with Danco & Khadija.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="testimonial-card content-card reveal" style="transition-delay: 0.2s;">
                    <blockquote class="mb-4">
                        "Partnering with Danco & Khadija was an absolute game-changer for our startup. Their combined technical prowess and astute strategic thinking were instrumental in launching our platform not just successfully, but with a clear vision for future scalability. Truly exceptional!"
                    </blockquote>
                    <cite>- A. N., Founder, Tech Innovators Ltd.</cite>
                </div>
                <div class="testimonial-card content-card reveal" style="transition-delay: 0.3s;">
                    <blockquote class="mb-4">
                        "The bespoke machine learning model Daniel developed has revolutionized our operational efficiency, leading to significant cost reductions and improved decision-making. Their team is highly professional, consistently results-oriented, and a pleasure to collaborate with."
                    </blockquote>
                    <cite>- B. O., Operations Manager, Global Logistics Corp.</cite>
                </div>
                <div class="testimonial-card content-card reveal" style="transition-delay: 0.4s;">
                     <blockquote class="mb-4">
                        "Khadija's profound insights into digital strategy and user experience were invaluable to our project's success. The entire process, from initial concept through to final execution, was managed with impeccable precision and transparent communication. We couldn't be happier."
                    </blockquote>
                    <cite>- C. P., Marketing Director, Creative Solutions Agency</cite>
                </div>
            </div>
        </div>
    <div class="section-intro-button-container reveal">
                <a href="testimonials.html" class="know-more-button">Read More Client Stories <i class="fas fa-arrow-right ml-2"></i></a>
            </div></section>

    <section id="contact" class="bg-secondary">
        <div class="container mx-auto px-6">
            
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 reveal">Let's Co-Create Your Next Digital Success Story</h2>
            <p class="text-lg text-secondary text-center max-w-3xl mx-auto mb-12 reveal" style="transition-delay: 0.1s;">
                Do you have a visionary project brewing? Are you looking to leverage data for unprecedented growth, or develop a groundbreaking digital product? We are eager to hear your ideas and explore how our expertise can bring them to life. Reach out for a comprehensive consultation.
            </p>
            <div class="flex flex-col lg:flex-row gap-12">
                <div class="lg:w-1/2 reveal">
                    <h3 class="text-2xl font-semibold mb-4">Ready to Transform Your Vision?</h3>
                    <p class="text-text-secondary mb-4">
                        We're passionate about turning innovative ideas into tangible digital realities. Whether it's a complex machine learning model, a robust web application, or a strategic digital roadmap, our team is equipped to deliver excellence. Fill out the form or reach out directly.
                    </p>
                    <div class="text-text-secondary mb-6">
                        <p class="flex items-center mb-2"><i class="fas fa-envelope mr-3 text-accent"></i> info@dksolutions.com</p>
                        <p class="flex items-center mb-2"><i class="fas fa-phone-alt mr-3 text-accent"></i> +1 (555) 123-4567</p>
                        <p class="flex items-center"><i class="fas fa-map-marker-alt mr-3 text-accent"></i> Nairobi, Kenya</p>
                    </div>
                    <div class="flex space-x-4">
                        <a href="#" target="_blank" rel="noopener" class="text-text-secondary hover:text-accent transition-colors" title="Twitter"><i class="fab fa-twitter fa-2x"></i></a>
                        <a href="#" target="_blank" rel="noopener" class="text-text-secondary hover:text-accent transition-colors" title="LinkedIn"><i class="fab fa-linkedin-in fa-2x"></i></a>
                        <a href="#" target="_blank" rel="noopener" class="text-text-secondary hover:text-accent transition-colors" title="GitHub"><i class="fab fa-github fa-2x"></i></a>
                    </div>
                </div>
                <div class="lg:w-1/2 reveal">
                    <div class="contact-form-container">
                        <form action="#" method="POST">
                            <div class="form-group">
                                <label for="name">Your Name</label>
                                <input type="text" id="name" name="name" placeholder="John Doe" required>
                            </div>
                            <div class="form-group">
                                <label for="email">Your Email</label>
                                <input type="email" id="email" name="email" placeholder="john.doe@example.com" required>
                            </div>
                            <div class="form-group">
                                <label for="subject">Subject</label>
                                <input type="text" id="subject" name="subject" placeholder="Project Inquiry" required>
                            </div>
                            <div class="form-group">
                                <label for="message">Your Message</label>
                                <textarea id="message" name="message" placeholder="Tell us about your project or inquiry..." rows="5" required></textarea>
                            </div>
                            <button type="submit" class="cta-button w-full">Send Message</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    <div class="section-intro-button-container reveal">
                <a href="contact.html" class="know-more-button">Connect With Our Team <i class="fas fa-arrow-right ml-2"></i></a>
            </div></section>

    <footer class="bg-gray-800 dark:bg-black text-gray-300 py-12">
        <div class="container mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
                <div>
                    <h5 class="text-lg font-semibold mb-3 text-white">Danco & Khadija</h5>
                    <p class="text-sm leading-relaxed">Pioneering intelligent, scalable, and design-driven digital solutions. Based in Nairobi, serving globally.</p>
                 </div>
                <div>
                    <h5 class="text-lg font-semibold mb-3 text-white">Navigate</h5>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#hero" class="hover:text-white transition-colors">Home</a></li>
                        <li><a href="who_we_are.html" class="hover:text-white transition-colors">About Us</a></li>
                        <li><a href="services.html" class="hover:text-white transition-colors">Our Services</a></li>
                        <li><a href="our_process.html" class="hover:text-white transition-colors">Our Process</a></li>
                        <li><a href="tech_stack.html" class="hover:text-white transition-colors">Our Expertise</a></li>
                        <li><a href="who_we_are.html" class="hover:text-white transition-colors">Who We Are</a></li>
                        <li><a href="portfolio.html" class="hover:text-white transition-colors">Portfolio Highlights</a></li>
                        <li><a href="publications.html" class="hover:text-white transition-colors">Publications</a></li>
                        <li><a href="testimonials.html" class="hover:text-white transition-colors">Client Voices</a></li>
                        <li><a href="contact.html" class="hover:text-white transition-colors">Contact Us</a></li>
                    </ul>
                </div>
                <div>
                    <h5 class="text-lg font-semibold mb-3 text-white">Core Competencies</h5>
                    <ul class="space-y-2 text-sm">
                        <li>Advanced Data Science & ML</li>
                        <li>Full-Stack Web & App Development</li>
                        <li>Strategic Digital Consulting</li>
                        <li>User-Centric UI/UX Design</li>
                        <li>Cloud Architecture & DevOps</li>
                    </ul>
                </div>
                <div>
                    <h5 class="text-lg font-semibold mb-3 text-white">Connect With Us</h5>
                    <ul class="space-y-2 text-sm">
                        <li><i class="fas fa-map-marker-alt mr-2 opacity-70"></i> Nairobi, Kenya</li>
                        <li><i class="fas fa-phone-alt mr-2 opacity-70"></i> +254 742 007 277</li>
                        <li><i class="fas fa-envelope mr-2 opacity-70"></i> <a href="mailto:dmwanjal254@gmail.com" class="hover:text-white transition-colors">dmwanjal254@gmail.com</a></li>
                         <li>
                            <div class="flex space-x-4 mt-3">
                                <a href="https://github.com/MadScie254" target="_blank" rel="noopener noreferrer" class="hover:text-white transition-colors" title="Daniel's GitHub"><i class="fab fa-github"></i></a>
                                <a href="https://linkedin.com/in/daniel-wanjala-912b8b17b" target="_blank" rel="noopener noreferrer" class="hover:text-white transition-colors" title="Daniel's LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-700 pt-8 text-center text-sm">
                <p>&copy; <span id="current-year"></span> Danco & Khadija Freelance Partnership. All Rights Reserved.</p>
                <p class="mt-1">Meticulously Designed & Developed with <i class="fas fa-heart text-red-500"></i> by Danco Analytics. For inquiries, call 0742007277.</p>
                 <p class="mt-1">Transforming Visions into Digital Realities.</p>
            </div>
        </div>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const body = document.body;
        const header = document.getElementById('main-header');
        const loadingOverlay = document.getElementById('loading-overlay');
        const lottieContainer = document.getElementById('lottie-container');
        const progressFill = document.querySelector('.progress-bar-fill');
        const progressTextElement = document.querySelector('.progress-percentage');
        const tipTextElement = document.querySelector('.tip-text');
        const globeContainer = document.getElementById('globe-container'); // This will now find it inside #hero

        // --- 1. Preloader Logic ---
        function initPreloader() {
            if (!loadingOverlay || !lottieContainer || !progressFill || !progressTextElement || !tipTextElement) {
                console.warn("Preloader elements not found.");
                if (loadingOverlay) loadingOverlay.classList.add('hidden'); // Hide if parts are missing
                return;
            }

            // Lottie animation
            try {
                lottie.loadAnimation({
                    container: lottieContainer,
                    renderer: 'svg',
                    loop: true,
                    autoplay: true,
                    path: 'https://assets2.lottiefiles.com/packages/lf20_qmfs6c3i.json' // A different, potentially lighter animation
                });
            } catch (e) {
                console.error("Lottie animation failed to load:", e);
            }
            
            // Progress bar and percentage
            let percent = 0;
            const progressInterval = setInterval(() => {
                percent += Math.floor(Math.random() * 5) + 1;
                if (percent > 100) percent = 100;
                progressFill.style.width = percent + '%';
                progressTextElement.textContent = percent + '%';
                if (percent === 100) {
                    clearInterval(progressInterval);
                }
            }, 80);

            // Rotating tips
            const tips = [
                "Building with passion and precision.",
                "Transforming ideas into digital realities.",
                "Your success is our priority.",
                "Innovation at the core of what we do.",
                "Scalable solutions for a growing world."
            ];
            let tipIndex = 0;
            function showNextTip() {
                tipTextElement.style.opacity = 0;
                setTimeout(() => {
                    tipTextElement.textContent = tips[tipIndex];
                    tipTextElement.style.opacity = 1;
                    tipIndex = (tipIndex + 1) % tips.length;
                }, 500); // After fade out
            }
            showNextTip(); // Initial tip
            setInterval(showNextTip, 4000); // Change tip every 4 seconds

            // Hide preloader
            window.addEventListener('load', () => {
                 // Ensure minimum display time for preloader + wait for 100%
                const minDisplayTime = 2000; // 2 seconds
                const startTime = Date.now();

                function attemptHidePreloader() {
                    const elapsedTime = Date.now() - startTime;
                    if (percent >= 100 && elapsedTime >= minDisplayTime) {
                        loadingOverlay.classList.add('hidden');
                    } else {
                        setTimeout(attemptHidePreloader, 200); // Check again shortly
                    }
                }
                attemptHidePreloader();
            });
        }

        // --- 2. Theme Management ---
        function initTheme() {
            const themeToggle = document.getElementById('theme-toggle');
            const themeToggleMobile = document.getElementById('theme-toggle-mobile');
            const sunIconClass = 'fa-sun';
            const moonIconClass = 'fa-moon';
            let currentTheme = localStorage.getItem('theme') || 'light';

            const applyTheme = (theme) => {
                const iconToAdd = theme === 'dark' ? sunIconClass : moonIconClass;
                const iconToRemove = theme === 'dark' ? moonIconClass : sunIconClass;
                body.classList.toggle('dark-mode', theme === 'dark');
                [themeToggle, themeToggleMobile].forEach(button => {
                    if (button) {
                        const iconElement = button.querySelector('i');
                        if (iconElement) {
                            iconElement.classList.remove(iconToRemove);
                            iconElement.classList.add(iconToAdd);
                        }
                    }
                });
                // Re-initialize globe if it exists and is part of the hero section
                if (typeof initGlobe === 'function' && globeContainer && globeContainer.closest('#hero')) {
                    setTimeout(initGlobe, 50); 
                }
            };

            const toggleTheme = () => {
                currentTheme = body.classList.contains('dark-mode') ? 'light' : 'dark';
                localStorage.setItem('theme', currentTheme);
                applyTheme(currentTheme);
            };

            applyTheme(currentTheme);
            if (themeToggle) themeToggle.addEventListener('click', toggleTheme);
            if (themeToggleMobile) themeToggleMobile.addEventListener('click', toggleTheme);
        }

        // --- 3. Mobile Menu ---
        function initMobileMenu() {
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const mobileMenuIcon = mobileMenuButton ? mobileMenuButton.querySelector('i') : null;

            if (mobileMenuButton && mobileMenu && mobileMenuIcon) {
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                    mobileMenuIcon.classList.toggle('fa-bars');
                    mobileMenuIcon.classList.toggle('fa-times');
                });
                const mobileLinks = mobileMenu.querySelectorAll('a'); // More generic selector
                mobileLinks.forEach(link => {
                    link.addEventListener('click', () => { 
                        mobileMenu.classList.add('hidden');
                        mobileMenuIcon.classList.remove('fa-times');
                        mobileMenuIcon.classList.add('fa-bars');
                    });
                });
            }
        }

        // --- 4. Header Scroll Effect ---
        function initHeaderScroll() {
            if (header) {
                window.addEventListener('scroll', () => {
                    header.classList.toggle('scrolled', window.scrollY > 50);
                });
            }
        }

        // --- 5. Scroll Reveal Animation ---
        function initScrollReveal() {
            const revealElements = document.querySelectorAll('.reveal');
            if ("IntersectionObserver" in window) {
                const revealObserver = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('visible');
                            // Optional: unobserve after reveal to save resources
                            // revealObserver.unobserve(entry.target); 
                        }
                    });
                }, { threshold: 0.1 }); // Adjusted threshold
                revealElements.forEach(el => revealObserver.observe(el));
            } else { 
                revealElements.forEach(el => el.classList.add('visible')); // Fallback for older browsers
            }
        }

        // --- 6. Typed.js Initialization ---
        function initTypedJS() {
            const typedTarget = document.getElementById('typed-target');
            if (typedTarget && typeof Typed !== 'undefined') {
                try {
                    new Typed('#typed-target', {
                        strings: ['Creative by Nature.', 'Intelligent by Design.', 'Powered by Innovation.', 'Engineered for Impact.', 'Your Vision, Amplified.'],
                        typeSpeed: 50, backSpeed: 30, backDelay: 2000, loop: true, smartBackspace: true
                    });
                } catch (error) { console.error("Typed.js Error:", error); typedTarget.textContent = 'Creative by Nature.'; }
            } else if (typedTarget) { typedTarget.textContent = 'Creative by Nature.'; }
        }

        // --- 7. Animated Counters for Stats Section ---
        function initStatsCounters() {
            const statsSection = document.getElementById('stats'); 
            const statNumbers = document.querySelectorAll('.stat-number');
            let statsAnimated = false;

            const animateStat = (element) => {
                const target = parseFloat(element.getAttribute('data-target'));
                if (isNaN(target)) { console.warn("Invalid data-target for stat counter:", element); return; }
                const duration = 1500; const stepTime = 20;
                const totalSteps = duration / stepTime;
                const increment = target / totalSteps;
                let current = 0;

                const step = () => {
                    current += increment;
                    if (current >= target) {
                        element.innerText = Math.floor(target).toLocaleString() + (element.innerText.includes('+') ? '+' : '');
                    } else {
                        element.innerText = Math.floor(current).toLocaleString() + (element.innerText.includes('+') ? '+' : '');
                        setTimeout(step, stepTime);
                    }
                };
                step();
            };

            if ("IntersectionObserver" in window && statsSection && statNumbers.length > 0) {
                const statsObserver = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting && !statsAnimated) {
                            statNumbers.forEach(num => animateStat(num));
                            statsAnimated = true;
                            statsObserver.unobserve(statsSection); 
                        }
                    });
                }, { threshold: 0.5 });
                statsObserver.observe(statsSection);
            } else { 
                statNumbers.forEach(num => {
                    const target = parseFloat(num.getAttribute('data-target'));
                    if (!isNaN(target)) {
                        num.innerText = Math.floor(target).toLocaleString() + (num.innerText.includes('+') ? '+' : '');
                    }
                });
            }
        }

        // --- 8. Scrollspy for Navigation Highlighting ---
        function initScrollSpy() {
            const navLinks = document.querySelectorAll('header nav a.nav-link'); 
            const mobileNavLinks = document.querySelectorAll('#mobile-menu a.nav-link-mobile'); // Assuming mobile links have this class
            const allNavLinks = [...navLinks, ...mobileNavLinks];
            const sections = document.querySelectorAll('section[id]');
            const headerHeight = header ? header.offsetHeight : 70;

            const activateLink = (targetId) => {
                allNavLinks.forEach(link => {
                    const linkHref = link.getAttribute('href');
                    const isActive = linkHref === `#${targetId}` || (linkHref && linkHref.endsWith(`#${targetId}`));
                    link.classList.toggle('active', isActive);
                });
            };
            
            if (sections.length > 0 && "IntersectionObserver" in window) {
                const scrollSpyObserver = new IntersectionObserver((entries) => {
                    let highestVisibleSectionId = null;
                    let minTop = Infinity;

                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const rect = entry.target.getBoundingClientRect();
                            // Section is considered active if its top is within the top 60% of viewport
                            if (rect.top >= 0 && rect.top <= (window.innerHeight * 0.6) && rect.top < minTop) {
                                minTop = rect.top;
                                highestVisibleSectionId = entry.target.getAttribute('id');
                            }
                        }
                    });

                    if (highestVisibleSectionId) {
                        activateLink(highestVisibleSectionId);
                    } else {
                         // Fallback logic if no section is "highest" (e.g., scrolled past all or before first)
                        if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 100 && sections.length > 0) { 
                            activateLink(sections[sections.length -1].id); // Highlight last section if at bottom
                        } else if (window.scrollY < sections[0].offsetTop - headerHeight * 1.5 && sections.length > 0) { 
                            activateLink(sections[0].id); // Highlight first section if at top
                        } else { // Try to find the last passed section
                            let lastPassedSectionId = null;
                            for (let i = sections.length - 1; i >= 0; i--) {
                                if (sections[i].getBoundingClientRect().top < headerHeight + 50) {
                                    lastPassedSectionId = sections[i].getAttribute('id');
                                    break;
                                }
                            }
                            if(lastPassedSectionId) activateLink(lastPassedSectionId);
                            else if (window.scrollY < 50 && sections.length > 0 && sections[0].id === 'hero') activateLink('hero');
                        }
                    }
                }, { 
                    rootMargin: `-${headerHeight -1}px 0px -${window.innerHeight * 0.4 -1}px 0px`, 
                    threshold: 0 // Trigger as soon as any part of section enters/leaves viewport based on rootMargin
                });

                sections.forEach(section => { scrollSpyObserver.observe(section); });
            }
            // Initial check for hero link
            if (window.scrollY < 50 && sections.length > 0 && sections[0].id === 'hero') activateLink('hero');
        }

        // --- 9. Swiper Slider Initialization for Portfolio ---
        function initSwiper() {
            if (typeof Swiper !== 'undefined' && document.querySelector('.swiper-container')) {
                try {
                    new Swiper('.swiper-container', {
                        loop: true,
                        autoplay: { delay: 4500, disableOnInteraction: false }, 
                        slidesPerView: 1,
                        spaceBetween: 20, 
                        pagination: { el: '.swiper-pagination', clickable: true },
                        navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' },
                        effect: 'fade', 
                        fadeEffect: { crossFade: true },
                    });
                } catch (error) { console.error("Swiper Error:", error); }
            } else { console.warn("Swiper library not loaded or no swiper-container found."); }
        }

        // --- 10. Footer Current Year & Links ---
        function initFooter() {
            const currentYearSpan = document.getElementById('current-year');
            if (currentYearSpan) { currentYearSpan.textContent = new Date().getFullYear(); }
            
            const footerQuickLinks = document.querySelectorAll('footer .grid div:nth-child(2) ul li a');
            footerQuickLinks.forEach(link => {
                const href = link.getAttribute('href');
                if (href && href.startsWith('#') && href !== '#hero') { 
                    let sectionName = href.substring(1).replace(/-/g, '_'); 
                    if (sectionName === 'tech_skills') sectionName = 'tech_stack'; 

                    if (['who_we_are', 'services', 'our_process', 'tech_stack', 'founders', 'portfolio', 'publications', 'testimonials', 'contact'].includes(sectionName)) {
                        // This logic seems to intend to change hash links to page links.
                        // For a single-page app, this might not be desired.
                        // link.setAttribute('href', `${sectionName}.html`); 
                    }
                }
            });
        }

        // --- 11. 3D Globe ---
        let globe, scene, camera, renderer, controls; // Make controls accessible
        function initGlobe() {
            if (!THREE) { console.error("Three.js not loaded."); return; }
            // Ensure globeContainer is specifically the one inside #hero
            const heroGlobeContainer = document.querySelector('#hero #globe-container');
            if (!heroGlobeContainer) { console.warn("Hero globe container not found. Globe will not render."); return; }

            // Clear previous globe if any
            while (heroGlobeContainer.firstChild) {
                heroGlobeContainer.removeChild(heroGlobeContainer.firstChild);
            }

            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(50, heroGlobeContainer.offsetWidth / heroGlobeContainer.offsetHeight, 0.1, 1000);
            camera.position.z = 3.5; 

            renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
            renderer.setSize(heroGlobeContainer.offsetWidth, heroGlobeContainer.offsetHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            heroGlobeContainer.appendChild(renderer.domElement);

            // OrbitControls for interaction
            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.screenSpacePanning = false;
            controls.minDistance = 2.2; // Min zoom
            controls.maxDistance = 10;  // Max zoom
            controls.autoRotate = true;
            controls.autoRotateSpeed = 0.4; // Slower auto-rotation
            controls.enablePan = false; // Disable panning to keep globe centered

            const globeGeometry = new THREE.SphereGeometry(1.25, 64, 64);
            const textureLoader = new THREE.TextureLoader();
            
            const isDarkMode = body.classList.contains('dark-mode');
            const earthTexturePath = isDarkMode ? 
                'https://cdn.jsdelivr.net/gh/stemkoski/stemkoski.github.com/Three.js/images/earth-night.jpg' : // Night map with city lights
                'https://cdn.jsdelivr.net/gh/stemkoski/stemkoski.github.com/Three.js/images/earth-day.jpg';    // Clear day map

            const earthTexture = textureLoader.load(earthTexturePath, 
                () => { console.log("Globe texture loaded."); renderer.render(scene, camera); },
                undefined, 
                (err) => console.error("Error loading globe texture:", err)
            );
            
            const globeMaterial = new THREE.MeshStandardMaterial({
                map: earthTexture,
                metalness: 0.1, // Less metallic for a more map-like feel
                roughness: 0.8, // More matte
                transparent: true,
                opacity: 0.99,
                emissive: isDarkMode ? 0x101020 : 0x000000, 
                emissiveMap: isDarkMode ? earthTexture : null
            });
            globe = new THREE.Mesh(globeGeometry, globeMaterial);
            scene.add(globe);

            // Marker for Nairobi
            const markerGeometry = new THREE.SphereGeometry(0.025, 16, 16); // Small sphere
            const markerMaterial = new THREE.MeshBasicMaterial({ 
                color: 0xff4500, // Bright orange-red
                transparent: true,
                opacity: 0.8,
             });
            const nairobiMarker = new THREE.Mesh(markerGeometry, markerMaterial);

            // Convert Lat/Lon to Cartesian coordinates for Nairobi (-1.2921 S, 36.8219 E)
            const lat = -1.2921;
            const lon = 36.8219;
            const radius = 1.25; // Globe radius
            const phi = (90 - lat) * Math.PI / 180;
            const theta = (lon + 180) * Math.PI / 180; // Adjust theta for texture map alignment

            nairobiMarker.position.set(
                -radius * Math.sin(phi) * Math.cos(theta),
                radius * Math.cos(phi),
                radius * Math.sin(phi) * Math.sin(theta)
            );
            nairobiMarker.lookAt(new THREE.Vector3(0,0,0)); // Orient towards center (optional)
            globe.add(nairobiMarker); // Add marker as a child of the globe so it rotates with it

            // Lighting
            const ambientLight = new THREE.AmbientLight(isDarkMode ? 0x555577 : 0xbbbbdd, 1);
            scene.add(ambientLight);
            const dirLight = new THREE.DirectionalLight(0xffffff, isDarkMode ? 0.7 : 1.0);
            dirLight.position.set(5, 4, 5); // Adjusted light position
            scene.add(dirLight);

            if(isDarkMode) {
                const subtleHemiLight = new THREE.HemisphereLight(0x303050, 0x101020, 0.5);
                scene.add(subtleHemiLight);
            }

            let lastRenderTime = 0;
            const renderInterval = 1000 / 60; // Target 60 FPS

            function animateGlobe() {
                requestAnimationFrame(animateGlobe);
                const currentTime = Date.now();
                if (currentTime - lastRenderTime < renderInterval && !controls.enabled) return;

                controls.update(); // Required if enableDamping or autoRotate is true
                renderer.render(scene, camera);
                lastRenderTime = currentTime;
            }
            animateGlobe();

            window.addEventListener('resize', () => {
                if (camera && renderer && heroGlobeContainer) {
                    camera.aspect = heroGlobeContainer.offsetWidth / heroGlobeContainer.offsetHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(heroGlobeContainer.offsetWidth, heroGlobeContainer.offsetHeight);
                }
            });
        }
        
        // --- 12. Hero Animations (GSAP) ---
        function initHeroAnimations() {
            if (!gsap) { console.error("GSAP not loaded."); return; }

            gsap.from('.hero-content h1', { y: 50, opacity: 0, duration: 1, delay: 0.3, ease: "power3.out" });
            gsap.from('.hero-content p', { y: 40, opacity: 0, duration: 1, delay: 0.5, ease: "power3.out" });
            gsap.from('.hero-stats .stat-item', {
                y: 30, opacity: 0, stagger: 0.15, duration: 0.8, delay: 0.7, ease: "power3.out"
            });
            gsap.from('.hero-buttons a', {
                scale: 0.8, opacity: 0, stagger: 0.2, duration: 0.7, delay: 1, ease: "back.out(1.7)"
            });
            gsap.from('.hero-content .mt-12 .flex.items-center', { // Trust indicators
                y: 20, opacity: 0, stagger: 0.1, duration: 0.6, delay: 1.3, ease: "power2.out"
            });
        }
        
        // --- 13. Sparkles for Hero Section ---
        function initSparkles() {
            const heroSection = document.getElementById('hero');
            if (!heroSection) return;
            const numSparkles = 15; // Fewer sparkles
            for (let i = 0; i < numSparkles; i++) {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle'; // Use the class for styling
                sparkle.style.width = sparkle.style.height = `${Math.random() * 5 + 2}px`; // Smaller
                sparkle.style.background = `radial-gradient(circle, #fff 0%, var(--text-accent) 70%, transparent 100%)`;
                sparkle.style.opacity = Math.random() * 0.4 + 0.1; // More subtle
                sparkle.style.top = `${Math.random() * 100}%`;
                sparkle.style.left = `${Math.random() * 100}%`;
                sparkle.style.animationDuration = `${Math.random() * 2 + 2.5}s`; // Slightly varied duration
                heroSection.appendChild(sparkle);
            }
        }


        // Initialize all components
        initPreloader();
        initTheme(); // Theme needs to be set before globe for texture
        initMobileMenu();
        initHeaderScroll();
        initScrollReveal();
        initTypedJS();
        initStatsCounters(); // Ensure counters are initialized after DOM is ready
        initScrollSpy();
        initSwiper();
        initFooter();
        
        // Defer Globe and Hero Animations until after preloader is done (or at least a slight delay)
        window.addEventListener('load', () => {
            setTimeout(() => { // Give a little breathing room after load
                // Ensure we only init globe if its container is present in the hero section
                const heroGlobeContainerCheck = document.querySelector('#hero #globe-container');
                if (heroGlobeContainerCheck) initGlobe();
                initHeroAnimations();
                initSparkles();
            }, 200); 
        });

    });
    </script>

</body>
</html>